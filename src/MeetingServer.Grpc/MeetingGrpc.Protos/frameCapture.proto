syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

option csharp_namespace = "MeetingGrpc.Protos";

package MeetingGrpc.Protos;

service FrameCapture 
{ 
	rpc FrameCapturesSubscribe(google.protobuf.Empty) returns (stream UserFrameCapture);
	rpc SendFrameCapture(FrameCaptureRequest) returns (google.protobuf.Empty);

	rpc FrameCaptureStatesSubscribe(google.protobuf.Empty) returns (stream FrameCaptureState);
	rpc TurnOffFrameCapture(google.protobuf.Empty) returns (google.protobuf.Empty);
	rpc TurnOnFrameCapture(google.protobuf.Empty) returns (google.protobuf.Empty);
}

message UserFrameCapture
{
	string userGuid = 1;
	bytes captureFrame = 2;
}

message FrameCaptureRequest
{
	bytes captureFrame = 1;
}

message FrameCaptureState
{
	string userGuid = 1;
	bool isOn = 2;
}